## 날짜: 2025-02-11

### 새로 배운 내용
#### 주제 1: Docker Private Registry
- docker private registry를 구축했다. registry:2 공식 이미지를 사용해서 구축했고 정리한 내용은 notion에 정리해 놨다.
- docker registry는 기본적으로 http를 지원하지 않는다. 통신상 보안이 위험하기 때문이라고 생각한다.
- 그래서 client에서 /etc/docker/daemon.json 파일에 `insecure-registries` value에 registry의 ip 값을 넣으면 http로 통신할 수 있다.
- 하지만 이것도 안전한 방법이 아니라 인증서를 사용해야한다. 나의 경우 개인 vm으로 구축했기에 self signed certificate를 적용했다.
- 인증서를 만들고 적용하고 위의 `insecure-registries`를 삭제했더니 정상적인 연결이 가능하다.
- 여기서 docker는 인증서에 san이 없으면 통신이 에러가 생기는데 이거때문에 한참 고생했다...

### 오늘의 도전 과제와 해결 방법
- 없다
### 오늘의 회고
사실 오늘 수업 시간 내내 9시부터6시까지 DCT 활성화하고 인증된 이미지를 푸쉬하는 실습을 했다. 
DCT를 활성화 해서 인증서에 SAN 까지 넣어서 진행하고  Notary를 사용하여 이미지 서명 및 검증을 진행하려 했으나 Notary에서 제공하는 기본 인증서의 경우 만료가 되서 인증서를 다시 받아야합니다. 하지만 인증서를 대략 3개씩 10번넘게 받았고 계속 오류가 무한히 발생하여 시간을 매우 많이 날렸다. private registry에는 보통 DCT를 사용하지 않는다고 하고 (사실 내생각도 그런게 private registry에는 이미 인증된 사용자만 접근이 가능한데 인증된 이미지가 무슨 소용일까라는 생각도 했다.) 시간은 한정되어있는데 해야하는 일은 많아 여기서 그만 하려고한다. <br/>
오랜만에 집중해서 몰입을 했다. 결과는 아쉽지만 좋은 경험이었다. 특히 ssl/TLS 관련해서 공부를 많이 한것 같아 좋았다.
### 참고 자료 및 링크
